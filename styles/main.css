/*
 Paleta de Colores Centralizada y Accesible
-----------------------------------------
Esta hoja de estilos define la paleta de colores principal de la aplicación,
asegurando que todas las combinaciones cumplan con las directrices de accesibilidad
WCAG 2.1 Nivel AA y AAA siempre que sea posible.

Estrategia de Nomenclatura:
- `bg-*`: Clases para fondos.
- `text-*`: Clases para colores de texto.
- `border-*`: Clases para bordes.
- `btn-*`: Estilos para botones.
- `tag-*`: Estilos para etiquetas de estado.
- `link-*`: Estilos para enlaces.
- `form-*`: Estilos para elementos de formulario.
- `chart-*`: Estilos para gráficos.
*/

:root {
  /* -- Colores Base -- */
  --color-brand: #6ee7b7; /* Verde menta claro - Contraste AAA sobre fondo oscuro */
  --color-brand-dark: #065f46; /* Verde oscuro para fondos de botones */
  
  --color-background-dark: #020617; /* Negro azulado muy oscuro */
  --color-background-med: #1e293b;  /* Azul-gris oscuro para tarjetas */
  --color-background-light: #334155;/* Gris-azul para hovers */

  --color-text-light: #cbd5e1;      /* Gris claro para texto secundario */
  --color-text-dark: #94a3b8;       /* Gris medio para texto de menor jerarquía */
  --color-text-white: #ffffff;      /* Blanco puro */
  --color-text-black: #000000;      /* Negro puro */

  /* -- Colores Semánticos Accesibles -- */
  --color-success: #4ade80;         /* Verde brillante para éxito */
  --color-success-bg: #166534;      /* Fondo oscuro para texto de éxito */
  --color-danger: #f87171;          /* Rojo claro para errores */
  --color-danger-bg: #991b1b;       /* Fondo oscuro para texto de error */
  --color-warning: #facc15;         /* Amarillo para advertencias */
  --color-warning-bg: #854d0e;      /* Fondo oscuro para texto de advertencia */
  --color-info: #60a5fa;            /* Azul para información */
  --color-info-bg: #1e40af;         /* Fondo oscuro para texto de info */

  /* -- Bordes -- */
  --color-border: #334155;
}

/*
 Clases de Utilidad de Accesibilidad
------------------------------------
Clases reutilizables para aplicar la paleta de colores de forma consistente.
*/

/* -- Textos -- */
.text-accessible-brand { color: var(--color-brand); }
.text-accessible-light { color: var(--color-text-light); }
.text-accessible-dark { color: var(--color-text-dark); }
.text-accessible-success { color: var(--color-success); }
.text-accessible-danger { color: var(--color-danger); }
.text-accessible-warning { color: var(--color-warning); }
.text-accessible-info { color: var(--color-info); }

/* -- Fondos -- */
.bg-accessible-dark { background-color: var(--color-background-dark); }
.bg-accessible-med { background-color: var(--color-background-med); }
.bg-accessible-light { background-color: var(--color-background-light); }
.bg-accessible-success-bg { background-color: var(--color-success-bg); }
.bg-accessible-danger-bg { background-color: var(--color-danger-bg); }
.bg-accessible-warning-bg { background-color: var(--color-warning-bg); }
.bg-accessible-info-bg { background-color: var(--color-info-bg); }

/* -- Botones -- */
.btn-primary {
  background-color: var(--color-brand-dark);
  color: var(--color-text-white);
  border: 1px solid var(--color-brand);
  transition: background-color 0.2s, border-color 0.2s;
}
.btn-primary:hover {
  background-color: var(--color-brand);
  color: var(--color-text-black);
  border-color: var(--color-brand);
}

.btn-secondary {
  background-color: transparent;
  color: var(--color-brand);
  border: 1px solid var(--color-brand);
  transition: background-color 0.2s, color 0.2s;
}
.btn-secondary:hover {
  background-color: var(--color-brand);
  color: var(--color-text-black);
}

/* -- Etiquetas de Estado (Tags) -- */
.tag {
  padding: 0.25rem 0.75rem;
  border-radius: 9999px;
  font-weight: 600;
  font-size: 0.75rem;
  line-height: 1rem;
  text-transform: uppercase;
}
.tag-success {
  background-color: var(--color-success-bg);
  color: var(--color-success);
}
.tag-danger {
  background-color: var(--color-danger-bg);
  color: var(--color-danger);
}
.tag-warning {
  background-color: var(--color-warning-bg);
  color: var(--color-warning);
}
.tag-info {
  background-color: var(--color-info-bg);
  color: var(--color-info);
}

/*
 Estilos Globales y Reseteo
-----------------------------
*/

body {
  background-color: var(--color-background-dark);
  color: var(--color-text-white);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

/* ... resto de estilos globales ... */
:root {
  /* -- Fondos -- */
  --color-background-base: #0f172a;       /* Fondo principal oscuro (azul marino profundo) */
  --color-background-card: #1e293b;       /* Fondo para tarjetas y paneles (azul-gris) */
  --color-background-hover: #334155;      /* Fondo para elementos en hover (gris-azulado) */
  --color-background-selected: #475569;   /* Fondo para elementos seleccionados */

  /* -- Texto -- */
  --color-text-primary: #f1f5f9;         /* Texto principal (casi blanco) - Alto contraste */
  --color-text-secondary: #cbd5e1;       /* Texto secundario (gris claro) - Contraste AA verificado */
  --color-text-placeholder: #94a3b8;     /* Texto para placeholders (gris medio) - Contraste AA verificado */
  --color-text-disabled: #64748b;        /* Texto para elementos deshabilitados */
  --color-text-inverted: #0f172a;        /* Texto para usar sobre fondos claros */

  /* -- Acentos y Estados -- */
  --color-accent-primary: #34d399;       /* Acento principal (verde esmeralda) */
  --color-accent-primary-hover: #10b981;  /* Acento principal en hover (más oscuro) */
  --color-accent-primary-active: #059669; /* Acento principal en estado activo */
  --color-accent-primary-text: #ffffff;    /* Texto para usar sobre el acento principal */

  --color-accent-positive: #22c55e;       /* Verde para éxito */
  --color-accent-negative: #ef4444;       /* Rojo para error */
  --color-accent-warning: #f97316;        /* Naranja para advertencia */
  --color-accent-info: #3b82f6;           /* Azul para información */

  /* -- Bordes -- */
  --color-border-primary: #334155;       /* Borde principal para contenedores */
  --color-border-interactive: #64748b;   /* Borde para elementos interactivos */
  --color-border-focus: #34d399;         /* Borde para indicar foco (mismo que acento) */

  /* -- Componentes Específicos (Gráficos) -- */
  --color-chart-grid: #334155;           /* Líneas de la cuadrícula de los gráficos */
  --color-chart-tooltip-bg: #1e293b;     /* Fondo del tooltip de los gráficos */
  --color-chart-text: #cbd5e1;           /* Texto general en los gráficos */
}

/*
 Estilos Globales y Reseteo
-----------------------------
Estilos base para la aplicación, asegurando consistencia.
*/

body {
  background-color: var(--color-background-base);
  color: var(--color-text-primary);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  margin: 0;
  padding: 0;
}

/* Estilos para formularios globales */
input, 
textarea,
select {
  color: var(--color-text-primary);
  background-color: var(--color-background-card);
  border: 1px solid var(--color-border-interactive);
  border-radius: 0.375rem; /* rounded-md */
  padding: 0.5rem 0.75rem;
}

input::placeholder, 
textarea::placeholder {
  color: var(--color-text-placeholder);
}

/* Estilo de autofill de navegadores (Chrome, Edge) */
input:-webkit-autofill,
textarea:-webkit-autofill,
select:-webkit-autofill {
  -webkit-text-fill-color: var(--color-text-primary) !important;
  -webkit-box-shadow: 0 0 0px 1000px var(--color-background-card) inset !important;
  transition: background-color 5000s ease-in-out 0s;
}

/* Forzar estilo consistente para campos autofill */
input:-webkit-autofill::first-line,
textarea:-webkit-autofill::first-line,
select:-webkit-autofill::first-line {
  font-size: inherit;
  font-family: inherit;
  font-weight: inherit;
  color: inherit;
}

/*
  Clase de utilidad para ocultar visualmente un elemento 
  pero mantenerlo accesible para lectores de pantalla.
*/
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Estilo de foco global para accesibilidad */
*:focus-visible {
  outline: 2px solid var(--color-border-focus) !important;
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(52, 211, 153, 0.2);
}

/*
 Mejoras de Contraste WCAG AA
------------------------------
Corrigen problemas de contraste para cumplir con los estándares de accesibilidad.
*/

/* Mejora del contraste para botones emerald - Más agresivo */
.bg-emerald-600,
a.bg-emerald-600,
button.bg-emerald-600 {
  background-color: #065f46 !important; /* Verde muy oscuro para asegurar ratio de contraste superior a 4.5:1 */
}

.bg-emerald-700,
a.bg-emerald-700,
button.bg-emerald-700 {
  background-color: #064e3b !important; /* Verde extremadamente oscuro para contraste óptimo */
}

.bg-emerald-700:hover,
.bg-emerald-600:hover,
a.bg-emerald-600:hover,
a.bg-emerald-700:hover,
button.bg-emerald-600:hover,
button.bg-emerald-700:hover {
  background-color: #052e16 !important; /* Verde casi negro en hover */
}

.bg-emerald-800,
a.bg-emerald-800,
button.bg-emerald-800 {
  background-color: #052e16 !important; /* Verde casi negro para contraste máximo */
}

.bg-emerald-500:hover {
  background-color: #064e3b !important; /* Verde muy oscuro en hover */
}

/* Asegurar texto blanco visible en todos los botones - Más específico */
.bg-emerald-600,
.bg-emerald-700,
.bg-emerald-800,
a.bg-emerald-600,
a.bg-emerald-700,
a.bg-emerald-800,
button.bg-emerald-600,
button.bg-emerald-700,
button.bg-emerald-800,
.btn-primary {
  color: #ffffff !important;
  font-weight: 600 !important; /* Semi-negrita para mejor legibilidad */
  text-shadow: 0 1px 2px rgba(0,0,0,0.1) !important; /* Sutil sombra para mayor contraste */
}

/* Mejora del contraste para texto sobre fondos oscuros */
.text-gray-300 {
  color: #f1f5f9 !important; /* Casi blanco para asegurar ratio de contraste 4.5:1 */
}

.text-gray-400 {
  color: #e5e7eb !important; /* Gris muy claro para mejor contraste */
}

.text-gray-500 {
  color: #d1d5db !important; /* Gris medio-claro con mejor contraste */
}

/* Mejora del contraste para badges y notificaciones - Más agresivo */
.bg-red-600,
span.bg-red-600 {
  background-color: #991b1b !important; /* Rojo muy oscuro */
}

.bg-red-700,
span.bg-red-700 {
  background-color: #7f1d1d !important; /* Rojo extremadamente oscuro para contraste máximo */
}

.bg-red-800,
span.bg-red-800 {
  background-color: #7f1d1d !important; /* Rojo casi negro */
}

/* Asegurar texto visible en badges y notificaciones - Más específico */
.bg-red-600,
.bg-red-700,
.bg-red-800,
span.bg-red-600,
span.bg-red-700,
span.bg-red-800 {
  color: #ffffff !important; 
  font-weight: 700 !important; /* Negrita para mejor legibilidad */
  text-shadow: 0 1px 1px rgba(0,0,0,0.2) !important; /* Sombra para mayor contraste */
}

/* Mejora del contraste para elementos de estado */
.text-emerald-400 {
  color: #4ade80 !important; /* Verde más saturado y brillante para mejor contraste */
}

.text-emerald-500 {
  color: #34d399 !important; /* Verde más brillante para cumplir ratio de contraste 4.5:1 */
}

.text-emerald-600 {
  color: #10b981 !important; /* Verde más oscuro para mejor contraste */
}