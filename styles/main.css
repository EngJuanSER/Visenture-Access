/*==================================================
  PALETA DE COLORES PRINCIPAL - WCAG 2.1
==================================================*/

:root {
  /* -- Colores Base -- */
  --color-brand: #6ee7b7; /* Verde menta claro - Contraste AAA sobre fondo oscuro */
  --color-brand-dark: #065f46; /* Verde oscuro para fondos de botones */
  
  --color-background-dark: #020617; /* Negro azulado muy oscuro */
  --color-background-med: #1e293b;  /* Azul-gris oscuro para tarjetas */
  --color-background-light: #334155;/* Gris-azul para hovers */

  --color-text-light: #ffffff;      /* Blanco puro para máximo contraste WCAG AA */
  --color-text-dark: #ffffff;       /* Blanco puro para máximo contraste WCAG AA */
  --color-text-white: #ffffff;      /* Blanco puro */
  --color-text-black: #000000;      /* Negro puro */

  /* -- Colores Semánticos Accesibles -- */
  --color-success: #4ade80;         /* Verde brillante para éxito */
  --color-success-bg: #166534;      /* Fondo oscuro para texto de éxito */
  --color-danger: #f87171;          /* Rojo claro para errores */
  --color-danger-bg: #991b1b;       /* Fondo oscuro para texto de error */
  --color-warning: #fde047;         /* Amarillo más claro para advertencias - MEJORADO */
  --color-warning-bg: #854d0e;      /* Fondo oscuro para texto de advertencia */
  --color-info: #93c5fd;            /* Azul más claro para información - MEJORADO */
  --color-info-bg: #1e40af;         /* Fondo oscuro para texto de info */

  /* -- Bordes -- */
  --color-border: #334155;
}

/*==================================================
  CLASES DE UTILIDAD
==================================================*/
*/

/* -- Textos -- */
.text-accessible-brand { 
  color: var(--color-brand); 
  font-weight: 500; /* Añadido peso de fuente para mejor legibilidad */
}
.text-accessible-light { 
  color: #ffffff !important; /* Blanco puro para máximo contraste WCAG AA */
  font-weight: 500; /* Añadido peso de fuente para mejor legibilidad */
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
}
.text-accessible-dark { 
  color: #ffffff !important; /* Blanco puro para máximo contraste WCAG AA */
  font-weight: 500; /* Añadido peso de fuente para mejor legibilidad */
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
}
.text-accessible-success { 
  color: #10b981 !important; /* Verde vibrante para mejor contraste WCAG AA */
  font-weight: 600; /* Añadido peso de fuente para mejor legibilidad */
}
.text-accessible-danger { 
  color: #dc2626 !important; /* Rojo más oscuro para mejor contraste WCAG AA */
  font-weight: 600; /* Añadido peso de fuente para mejor legibilidad */
}
.text-accessible-warning { 
  color: #ea580c !important; /* Naranja más oscuro para mejor contraste WCAG AA */
  font-weight: 600; /* Añadido peso de fuente para mejor legibilidad */
}
.text-accessible-info { 
  color: #2563eb !important; /* Azul más oscuro para mejor contraste WCAG AA */
  font-weight: 600; /* Añadido peso de fuente para mejor legibilidad */
}

/* -- Fondos -- */
.bg-accessible-dark { background-color: var(--color-background-dark); }
.bg-accessible-med { background-color: var(--color-background-med); }
.bg-accessible-light { background-color: var(--color-background-light); }
.bg-accessible-success-bg { background-color: var(--color-success-bg); }
.bg-accessible-danger-bg { background-color: var(--color-danger-bg); }
.bg-accessible-warning-bg { background-color: var(--color-warning-bg); }
.bg-accessible-info-bg { background-color: var(--color-info-bg); }

/* -- Botones -- */
.btn-primary {
  background-color: var(--color-brand-dark);
  color: var(--color-text-white);
  border: 1px solid var(--color-brand);
  transition: background-color 0.2s, border-color 0.2s;
}
.btn-primary:hover {
  background-color: var(--color-brand);
  color: var(--color-text-black);
  border-color: var(--color-brand);
}

.btn-secondary {
  background-color: transparent;
  color: var(--color-brand);
  border: 1px solid var(--color-brand);
  transition: background-color 0.2s, color 0.2s;
}
.btn-secondary:hover {
  background-color: var(--color-brand);
  color: var(--color-text-black);
}

/*==================================================
  ETIQUETAS DE ESTADO
==================================================*/
.tag {
  padding: 0.25rem 0.75rem;
  border-radius: 9999px;
  font-weight: 700;
  font-size: 0.75rem;
  line-height: 1rem;
  text-transform: uppercase;
  text-shadow: 0px 1px 1px rgba(0, 0, 0, 0.5);
}
.tag-success {
  background-color: var(--color-success-bg);
  color: var(--color-success);
  border: 1px solid #10b981; /* Borde verde medio */
}
.tag-danger {
  background-color: var(--color-danger-bg);
  color: var(--color-danger);
  border: 1px solid #ef4444; /* Borde rojo medio */
}
.tag-warning {
  background-color: var(--color-warning-bg);
  color: var(--color-warning);
  border: 1px solid #f59e0b; /* Borde naranja medio */
}
.tag-info {
  background-color: var(--color-info-bg);
  color: var(--color-info);
}

/*
 Estilos Globales y Reseteo
-----------------------------
*/

body {
  background-color: var(--color-background-dark);
  color: var(--color-text-white);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

/* ... resto de estilos globales ... */
:root {
  /* -- Fondos -- */
  --color-background-base: #0f172a;       /* Fondo principal oscuro (azul marino profundo) */
  --color-background-card: #1e293b;       /* Fondo para tarjetas y paneles (azul-gris) */
  --color-background-hover: #334155;      /* Fondo para elementos en hover (gris-azulado) */
  --color-background-selected: #475569;   /* Fondo para elementos seleccionados */

  /* -- Texto -- */
  --color-text-primary: #f1f5f9;         /* Texto principal (casi blanco) - Alto contraste */
  --color-text-secondary: #cbd5e1;       /* Texto secundario (gris claro) - Contraste AA verificado */
  --color-text-placeholder: #94a3b8;     /* Texto para placeholders (gris medio) - Contraste AA verificado */
  --color-text-disabled: #64748b;        /* Texto para elementos deshabilitados */
  --color-text-inverted: #0f172a;        /* Texto para usar sobre fondos claros */

  /* -- Acentos y Estados -- */
  --color-accent-primary: #10b981;       /* Verde más vibrante para mejor contraste WCAG AA */
  --color-accent-primary-hover: #059669;  /* Verde más oscuro para hover */
  --color-accent-primary-active: #047857; /* Verde más oscuro para estado activo */
  --color-accent-primary-text: #ffffff;    /* Texto blanco para máximo contraste */

  --color-accent-positive: #10b981;       /* Verde vibrante para éxito */
  --color-accent-negative: #dc2626;       /* Rojo más oscuro para mejor contraste */
  --color-accent-warning: #ea580c;        /* Naranja más oscuro para mejor contraste */
  --color-accent-info: #2563eb;           /* Azul más oscuro para mejor contraste */

  /* -- Bordes -- */
  --color-border-primary: #334155;       /* Borde principal para contenedores */
  --color-border-interactive: #64748b;   /* Borde para elementos interactivos */
  --color-border-focus: #34d399;         /* Borde para indicar foco (mismo que acento) */

  /* -- Componentes Específicos (Gráficos) -- */
  --color-chart-grid: #334155;           /* Líneas de la cuadrícula de los gráficos */
  --color-chart-tooltip-bg: #1e293b;     /* Fondo del tooltip de los gráficos */
  --color-chart-text: #cbd5e1;           /* Texto general en los gráficos */
}

/*
 Estilos Globales y Reseteo
-----------------------------
Estilos base para la aplicación, asegurando consistencia.
*/

body {
  background-color: var(--color-background-base);
  color: var(--color-text-primary);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  margin: 0;
  padding: 0;
}

/* Estilos para formularios globales */
input, 
textarea,
select {
  color: var(--color-text-primary);
  background-color: var(--color-background-card);
  border: 1px solid var(--color-border-interactive);
  border-radius: 0.375rem; /* rounded-md */
  padding: 0.5rem 0.75rem;
}

input::placeholder, 
textarea::placeholder {
  color: var(--color-text-placeholder);
}

/* Estilo de autofill de navegadores (Chrome, Edge) */
input:-webkit-autofill,
textarea:-webkit-autofill,
select:-webkit-autofill {
  -webkit-text-fill-color: var(--color-text-primary) !important;
  -webkit-box-shadow: 0 0 0px 1000px var(--color-background-card) inset !important;
  transition: background-color 5000s ease-in-out 0s;
}

/* Forzar estilo consistente para campos autofill */
input:-webkit-autofill::first-line,
textarea:-webkit-autofill::first-line,
select:-webkit-autofill::first-line {
  font-size: inherit;
  font-family: inherit;
  font-weight: inherit;
  color: inherit;
}

/*
  Clase de utilidad para ocultar visualmente un elemento 
  pero mantenerlo accesible para lectores de pantalla.
*/
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Estilo de foco global para accesibilidad */
*:focus-visible {
  outline: 2px solid var(--color-border-focus) !important;
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(52, 211, 153, 0.2);
}

/*
 Mejoras de Contraste WCAG AA
------------------------------
Corrigen problemas de contraste para cumplir con los estándares de accesibilidad.
*/

/* Mejora del contraste para botones emerald - Más agresivo */
.bg-emerald-600,
a.bg-emerald-600,
button.bg-emerald-600 {
  background-color: #065f46 !important; /* Verde muy oscuro para asegurar ratio de contraste superior a 4.5:1 */
}

.bg-emerald-700,
a.bg-emerald-700,
button.bg-emerald-700 {
  background-color: #064e3b !important; /* Verde extremadamente oscuro para contraste óptimo */
}

.bg-emerald-700:hover,
.bg-emerald-600:hover,
a.bg-emerald-600:hover,
a.bg-emerald-700:hover,
button.bg-emerald-600:hover,
button.bg-emerald-700:hover {
  background-color: #052e16 !important; /* Verde casi negro en hover */
}

.bg-emerald-800,
a.bg-emerald-800,
button.bg-emerald-800 {
  background-color: #052e16 !important; /* Verde casi negro para contraste máximo */
}

.bg-emerald-500:hover {
  background-color: #064e3b !important; /* Verde muy oscuro en hover */
}

/* Asegurar texto blanco visible en todos los botones - Más específico */
.bg-emerald-600,
.bg-emerald-700,
.bg-emerald-800,
a.bg-emerald-600,
a.bg-emerald-700,
a.bg-emerald-800,
button.bg-emerald-600,
button.bg-emerald-700,
button.bg-emerald-800,
.btn-primary {
  color: #ffffff !important;
  font-weight: 600 !important; /* Semi-negrita para mejor legibilidad */
  text-shadow: 0 1px 2px rgba(0,0,0,0.1) !important; /* Sutil sombra para mayor contraste */
}

/* Mejora del contraste para texto sobre fondos oscuros */
.text-gray-300 {
  color: #f1f5f9 !important; /* Casi blanco para asegurar ratio de contraste 4.5:1 */
}

.text-gray-400 {
  color: #e5e7eb !important; /* Gris muy claro para mejor contraste */
}

.text-gray-500 {
  color: #d1d5db !important; /* Gris medio-claro con mejor contraste */
}

/* Mejora del contraste para badges y notificaciones - WCAG AA (Relación de contraste 4.5:1) */
.bg-red-600,
span.bg-red-600,
.notification-badge,
.notification-counter {
  background-color: #b91c1c !important; /* Rojo más claro para contraste con texto blanco */
  font-size: 0.875rem !important; /* Aumentado para mejor legibilidad */
  border: 1px solid #ffffff !important; /* Borde blanco para destacar más */
}

.bg-red-700,
span.bg-red-700 {
  background-color: #b91c1c !important; /* Unificado para consistencia */
}

.bg-red-800,
span.bg-red-800 {
  background-color: #b91c1c !important; /* Unificado para consistencia */
}

/* Asegurar texto visible en badges y notificaciones - WCAG AA */
.bg-red-600,
.bg-red-700,
.bg-red-800,
span.bg-red-600,
span.bg-red-700,
span.bg-red-800,
.notification-badge,
.notification-counter {
  color: #ffffff !important;
  font-weight: 700 !important; /* Negrita para mejor legibilidad */
  text-shadow: 0 1px 2px rgba(0,0,0,0.3) !important; /* Sombra mejorada para mayor contraste */
  min-width: 1.5rem !important; /* Asegurar tamaño mínimo táctil */
  min-height: 1.5rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Mejora del contraste para elementos de estado */
.text-emerald-400 {
  color: #4ade80 !important; /* Verde más saturado y brillante para mejor contraste */
}

.text-emerald-500 {
  color: #34d399 !important; /* Verde más brillante para cumplir ratio de contraste 4.5:1 */
}

.text-emerald-600 {
  color: #10b981 !important; /* Verde más oscuro para mejor contraste */
}