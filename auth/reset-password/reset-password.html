<main role="main" aria-labelledby="reset-title">
  <div class="min-h-screen flex items-center justify-center bg-slate-950 p-4">
    <div class="bg-slate-800 p-8 sm:p-10 rounded-xl border border-slate-700 w-full max-w-md">
      <div class="text-center">
        <h1 id="reset-title" class="text-2xl font-bold text-white">Restablecer Contraseña</h1>
        <p class="mt-2 text-sm text-accessible-light" aria-describedby="reset-title">
          Ingresa tu nueva contraseña.
        </p>
      </div>
      
      <!-- Indicador de carga -->
      <div class="text-center p-8 my-6" style="display: none;" role="status" aria-live="polite">
        <div class="inline-block animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-accessible-brand mb-4" aria-hidden="true"></div>
        <p class="text-accessible-light font-medium">Verificando enlace...</p>
      </div>
      
      <!-- Mensaje de token inválido -->
      <div class="p-6 my-6 bg-error-dark text-accessible-error rounded-lg border border-error-dark-hover max-w-md mx-auto text-center" 
           style="display: none;" role="alert" aria-labelledby="error-title">
        <div class="flex justify-center mb-3">
          <div class="bg-error-dark-hover rounded-full p-3">
            <i class="fa-solid fa-exclamation-triangle h-10 w-10 text-accessible-error"></i>
          </div>
        </div>
        <h3 id="error-title" class="text-lg font-semibold mb-2 text-white">Enlace Inválido</h3>
        <p class="mb-4 text-accessible-error">El enlace para restablecer la contraseña no es válido o ha expirado.</p>
        <div class="mt-4">
          <a href="../forgot-password/index.html" class="btn-primary"
             aria-label="Ir a solicitar un nuevo enlace de restablecimiento">
            Solicitar un Nuevo Enlace
          </a>
        </div>
      </div>
      
      <!-- Formulario principal -->
      <form class="mt-8 space-y-6" role="form" aria-labelledby="reset-title" novalidate>
        <!-- Campo de contraseña -->
        <div>
          <label for="password" class="block text-sm font-medium text-accessible-light mb-2">Nueva Contraseña*</label>
          <input
            id="password"
            name="password"
            type="password"
            required
            aria-required="true"
            aria-describedby="password-help password-errors"
            autocomplete="new-password"
            placeholder="••••••••"
            class="w-full px-4 py-3 bg-slate-700 border border-slate-600 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-accessible-brand focus:border-accessible-brand transition"
          />
          <div id="password-help" class="sr-only">La contraseña debe tener al menos 8 caracteres, incluir una letra mayúscula, una minúscula y un número</div>
          <div id="password-errors" class="mt-1 text-sm text-accessible-error" style="display: none;" role="alert">
            <!-- Mensajes de error se insertarán aquí -->
          </div>
        </div>

        <!-- Campo de confirmación de contraseña -->
        <div>
          <label for="confirmPassword" class="block text-sm font-medium text-accessible-light mb-2">Confirmar Contraseña</label>
          <input
            id="confirmPassword"
            type="password"
            required
            autocomplete="new-password"
            placeholder="••••••••"
            class="w-full px-4 py-3 bg-slate-700 border border-slate-600 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-accessible-brand focus:border-accessible-brand transition"
          />
          <div id="confirm-password-errors" class="mt-1 text-sm text-accessible-error" style="display: none;" role="alert">
            <!-- Mensajes de error se insertarán aquí -->
          </div>
        </div>
      
        <!-- Mensaje de error general -->
        <div class="p-4 bg-error-dark text-accessible-error rounded-lg border border-error-dark-hover flex items-center space-x-3" style="display: none;">
          <i class="fa-solid fa-exclamation-circle text-accessible-error flex-shrink-0"></i>
          <span>Error message here</span>
        </div>

        <!-- Botón de envío -->
        <div>      
          <button
            type="submit"
            class="btn-primary w-full py-3"
          >
            <span>Actualizar Contraseña</span>
          </button>
        </div>
      </form>
    
      <!-- Mensaje de éxito -->
      <div class="p-6 my-6 bg-success-dark text-accessible-success rounded-lg border border-success-dark-hover max-w-md mx-auto text-center" style="display: none;">
        <div class="flex justify-center mb-3">
          <div class="bg-success-dark-hover rounded-full p-3">
            <i class="fa-solid fa-check-circle h-10 w-10 text-accessible-success"></i>
          </div>
        </div>
        <h3 class="text-lg font-semibold mb-2 text-white">¡Contraseña Actualizada!</h3>
        <p class="mb-4 text-accessible-success">Tu contraseña ha sido actualizada correctamente.</p>
        <div class="mt-4">
          <a href="../login/index.html" class="btn-primary">
            Iniciar Sesión
          </a>
        </div>
      </div>
    </div>
  </div>
</main>